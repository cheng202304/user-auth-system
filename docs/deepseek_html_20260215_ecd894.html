<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <title>æ³¨å†Œæ–°è´¦å· Â· éšæœº6ä½æ•´æ•°</title>
  <style>
    /* RESET & åŸºç¡€å˜é‡ â€”â€” å®Œå…¨å¤ç”¨ç™»å½•æ ·å¼ï¼Œä»…å¾®è°ƒ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
    }

    body {
      background: linear-gradient(145deg, #f0f4fa 0%, #e3eef8 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    /* å¡ç‰‡å®¹å™¨ â€”â€” å®Œå…¨è‡ªé€‚åº”ï¼Œæœ€å¤§å®½åº¦èˆ’é€‚ */
    .register-card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-radius: 2rem;
      box-shadow: 0 25px 45px -12px rgba(0, 40, 60, 0.3), 0 2px 8px rgba(0,0,0,0.05);
      padding: 2.2rem 1.8rem;
      width: 100%;
      max-width: 440px;
      border: 1px solid rgba(255,255,255,0.5);
      transition: all 0.2s ease;
    }

    /* æ ‡é¢˜ */
    .register-card h2 {
      font-size: clamp(1.8rem, 6vw, 2.3rem);
      font-weight: 600;
      letter-spacing: -0.02em;
      margin-bottom: 0.2rem;
      color: #1a2e3f;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    .register-card h2 span {
      background: #1e6f5c;
      color: white;
      font-size: 0.8rem;
      padding: 0.2rem 0.8rem;
      border-radius: 30px;
      font-weight: 400;
      letter-spacing: 0.3px;
    }

    /* ç®€çŸ­æç¤º */
    .input-hint {
      color: #4d6272;
      margin-bottom: 1.8rem;
      font-size: 0.95rem;
      border-left: 3px solid #2a9d8f;
      padding-left: 0.75rem;
      background: rgba(42, 157, 143, 0.05);
      border-radius: 0 4px 4px 0;
    }

    /* è¾“å…¥æ¡†ç»„ */
    .input-group {
      margin-bottom: 1.6rem;
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
    }

    .input-group label {
      font-size: 0.9rem;
      font-weight: 600;
      color: #1e3b5c;
      letter-spacing: 0.3px;
      margin-left: 0.3rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .input-group label i {
      font-style: normal;
      color: #2a9d8f;
      font-weight: 400;
      background: #e0f0ec;
      padding: 0.15rem 0.6rem;
      border-radius: 20px;
      font-size: 0.75rem;
    }

    /* ç»Ÿä¸€è¾“å…¥æ¡†æ ·å¼ */
    .input-field {
      width: 100%;
      padding: 1rem 1.2rem;
      font-size: 1.1rem;
      border: 2px solid #dbe4eb;
      background: white;
      border-radius: 60px;
      outline: none;
      transition: border 0.15s, box-shadow 0.2s;
      letter-spacing: 1px;
      font-family: 'SF Mono', 'Fira Code', 'Courier New', monospace;
    }

    .input-field:focus {
      border-color: #1e6f5c;
      box-shadow: 0 0 0 4px rgba(30, 111, 92, 0.15);
    }

    .input-field.error-shake {
      animation: shake 0.3s ease-in-out;
      border-color: #c84a4a !important;
      background-color: #fff7f7;
    }

    @keyframes shake {
      0%,100% { transform: translateX(0); }
      20% { transform: translateX(-8px); }
      40% { transform: translateX(8px); }
      60% { transform: translateX(-4px); }
      80% { transform: translateX(4px); }
    }

    /* é”™è¯¯ä¿¡æ¯åŒºåŸŸï¼ˆå³å¯¹é½ï¼‰ */
    .field-foot {
      display: flex;
      justify-content: flex-end;
      margin: 0.3rem 0.8rem 0 0.8rem;
      font-size: 0.75rem;
      min-height: 1.2rem;
    }
    .field-foot .error-message {
      color: #c84a4a;
      font-weight: 500;
      visibility: hidden;
      opacity: 0;
      transition: 0.1s;
    }
    .field-foot .error-message.show {
      visibility: visible;
      opacity: 1;
    }

    /* éšæœºç”ŸæˆæŒ‰é’®ï¼ˆæ–°å¢ï¼‰- æ¸…æ–°é£æ ¼ */
    .random-section {
      display: flex;
      justify-content: flex-end;
      margin-top: -0.5rem;
      margin-bottom: 1rem;
    }
    .random-btn {
      background: #e9f3f1;
      border: 1px solid #bcd9d3;
      color: #1e6f5c;
      padding: 0.5rem 1.2rem;
      border-radius: 40px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: 0.15s;
      box-shadow: 0 2px 6px rgba(0,0,0,0.03);
    }
    .random-btn:hover {
      background: #d4ece6;
      border-color: #1e6f5c;
      transform: translateY(-1px);
    }

    /* æŒ‰é’®ç»„ â€”â€” æ³¨å†Œç»¿åº•ï¼Œå–æ¶ˆè“åº•ï¼ˆä¸ç™»å½•é£æ ¼ä¸€è‡´ä½†æ–‡å­—ä¸åŒï¼‰ */
    .button-row {
      display: flex;
      gap: 1rem;
      margin: 2rem 0 1.8rem;
      flex-wrap: wrap;
    }
    .btn {
      flex: 1 1 0px;
      min-width: 120px;
      padding: 0.9rem 0.5rem;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 60px;
      border: none;
      box-shadow: 0 4px 10px rgba(0, 20, 30, 0.1);
      cursor: pointer;
      transition: 0.15s;
      letter-spacing: 0.5px;
      border: 2px solid transparent;
    }
    /* æ³¨å†ŒæŒ‰é’® - ç»¿åº• */
    .btn-primary {
      background: #2a7a4b;
      color: white;
      box-shadow: 0 8px 18px -6px rgba(42, 122, 75, 0.5);
    }
    .btn-primary:hover {
      background: #1e5f39;
      transform: scale(1.02);
    }
    /* å–æ¶ˆæŒ‰é’® - è“åº• */
    .btn-secondary {
      background: #1e6f9f;
      color: white;
      box-shadow: 0 8px 18px -6px rgba(30, 111, 159, 0.5);
    }
    .btn-secondary:hover {
      background: #145a84;
      transform: scale(1.02);
    }

    /* åº•éƒ¨é“¾æ¥è¡Œ (ç¨ä½œè°ƒæ•´ï¼Œä»…ç”¨äºè¾…åŠ©è·³è½¬) */
    .footer-links {
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 0.9rem;
      padding: 0 0.2rem;
      color: #3c5a7d;
    }
    .footer-links a {
      text-decoration: none;
      font-weight: 500;
      transition: 0.1s;
      padding: 0.4rem 0.8rem;
      color: #1d6f7c;
    }
    .footer-links a:hover {
      text-decoration: underline;
      opacity: 0.8;
    }

    /* éå¸¸å°çš„å±å¹• (<=360px) å¾®è°ƒ */
    @media (max-width: 380px) {
      .register-card { padding: 1.5rem 1rem; }
      .button-row { flex-direction: column; }
      .btn { min-width: 100%; }
      .random-section { justify-content: center; }
    }
  </style>
</head>
<body>
  <div class="register-card">
    <h2>
      æ³¨å†Œæ–°è´¦å·
      <span>6ä½æ•´æ•°</span>
    </h2>
    <div class="input-hint">è´¦å·ä¸ºéšæœº6ä½æ•´æ•°ï¼Œå¯†ç éœ€6ä½æ•°å­—</div>

    <!-- è´¦å·è¾“å…¥åŒº (å¯æ‰‹åŠ¨ä¿®æ”¹ï¼Œä½†éšæœºç”ŸæˆæŒ‰é’®å°†å¡«å……6ä½éšæœºæ•°) -->
    <div class="input-group">
      <label>
        ğŸ‘¤ è´¦å·
        <i>6ä½æ•´æ•°</i>
      </label>
      <input type="text" id="accountInput" class="input-field" placeholder="ç‚¹å‡»å³ä¾§æŒ‰é’®éšæœºç”Ÿæˆ" maxlength="6" inputmode="numeric" pattern="\d*">
      <div class="field-foot">
        <span class="error-message" id="accountError">éœ€6ä½æ•°å­—</span>
      </div>
    </div>

    <!-- éšæœºç”ŸæˆæŒ‰é’® (ç‹¬ç«‹äºè´¦å·è¡Œä¸‹æ–¹) -->
    <div class="random-section">
      <button class="random-btn" id="randomGenerateBtn">ğŸ² éšæœºç”Ÿæˆ6ä½æ•´æ•°</button>
    </div>

    <!-- å¯†ç è¾“å…¥åŒº (æ‰‹åŠ¨è®¾ç½®) -->
    <div class="input-group">
      <label>
        ğŸ”’ å¯†ç 
        <i>6ä½æ•°å­—</i>
      </label>
      <input type="password" id="passwordInput" class="input-field" placeholder="è®¾ç½®6ä½æ•°å­—å¯†ç " maxlength="6" inputmode="numeric" pattern="\d*">
      <div class="field-foot">
        <span class="error-message" id="passwordError">éœ€6ä½æ•°å­—</span>
      </div>
    </div>

    <!-- åŒæŒ‰é’®ï¼šæ³¨å†Œç»¿åº•ï¼Œå–æ¶ˆè“åº• (å–æ¶ˆåŠŸèƒ½æ”¹ä¸ºæ¸…ç©ºè¡¨å•) -->
    <div class="button-row">
      <button class="btn btn-primary" id="registerBtn">æ³¨ å†Œ</button>
      <button class="btn btn-secondary" id="cancelBtn">æ¸… ç©º</button>
    </div>

    <!-- åº•éƒ¨é“¾æ¥ï¼šè¿”å›ç™»å½• (è¾…åŠ©åŠŸèƒ½) -->
    <div class="footer-links">
      <a href="#" id="backToLogin">ğŸ”™ è¿”å›ç™»å½•</a>
    </div>
  </div>

  <script>
    (function() {
      'use strict';

      // ---------- DOM å…ƒç´  ----------
      const accountInput = document.getElementById('accountInput');
      const passwordInput = document.getElementById('passwordInput');
      const accountErrorSpan = document.getElementById('accountError');
      const passwordErrorSpan = document.getElementById('passwordError');
      const registerBtn = document.getElementById('registerBtn');
      const cancelBtn = document.getElementById('cancelBtn');
      const randomBtn = document.getElementById('randomGenerateBtn');
      const backToLoginLink = document.getElementById('backToLogin');

      // ---------- å·¥å…·å‡½æ•° ----------
      // ç”Ÿæˆéšæœºçš„6ä½æ•´æ•° (100000 ~ 999999)
      function generateRandomSixDigit() {
        return Math.floor(100000 + Math.random() * 900000).toString();
      }

      // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»…ä¸º6ä½æ•°å­—
      function isValidSixDigit(str) {
        return /^\d{6}$/.test(str);
      }

      // æ›´æ–°é”™è¯¯æç¤º (å®Œå…¨å¤ç”¨ç™»å½•é€»è¾‘)
      function updateErrorOnly(inputElement, errorSpan) {
        const val = inputElement.value;
        const rawLen = val.length;

        if (rawLen === 0) {
          errorSpan.textContent = 'ä¸èƒ½ä¸ºç©º';
          errorSpan.classList.add('show');
        } else if (rawLen < 6) {
          errorSpan.textContent = `å¿…é¡»ä¸º6ä½æ•°å­— (å½“å‰${rawLen}ä½)`;
          errorSpan.classList.add('show');
        } else if (rawLen === 6 && !isValidSixDigit(val)) {
          errorSpan.textContent = 'åªèƒ½åŒ…å«æ•°å­—0-9';
          errorSpan.classList.add('show');
        } else if (rawLen === 6 && isValidSixDigit(val)) {
          errorSpan.classList.remove('show');
        } else {
          errorSpan.classList.remove('show');
        }
      }

      // éªŒè¯å•ä¸ªå­—æ®µ (å¸¦æŠ–åŠ¨)
      function validateField(inputElement, errorSpan) {
        const val = inputElement.value;
        let isValid = true;

        if (!isValidSixDigit(val)) {
          isValid = false;
          inputElement.classList.add('error-shake');
          if (val.length !== 6) {
            errorSpan.textContent = `å¿…é¡»ä¸º6ä½æ•°å­— (å½“å‰${val.length}ä½)`;
          } else if (!/^\d+$/.test(val)) {
            errorSpan.textContent = 'åªèƒ½åŒ…å«æ•°å­—0-9';
          } else {
            errorSpan.textContent = 'æ— æ•ˆçš„6ä½æ•°å­—';
          }
          errorSpan.classList.add('show');
          setTimeout(() => {
            inputElement.classList.remove('error-shake');
          }, 300);
        } else {
          errorSpan.classList.remove('show');
          inputElement.classList.remove('error-shake');
        }
        return isValid;
      }

      // å…¨å±€æ³¨å†Œæ ¡éªŒ
      function validateAndRegister() {
        updateErrorOnly(accountInput, accountErrorSpan);
        updateErrorOnly(passwordInput, passwordErrorSpan);

        const isAccountValid = validateField(accountInput, accountErrorSpan);
        const isPasswordValid = validateField(passwordInput, passwordErrorSpan);

        if (isAccountValid && isPasswordValid) {
          alert(`ğŸ‰ è´¦å·æ³¨å†ŒæˆåŠŸï¼\nè´¦å·: ${accountInput.value}\nå¯†ç : ${'â€¢'.repeat(6)}\nï¼ˆæ¼”ç¤ºæ¨¡å¼ï¼Œæ— å®é™…åç«¯ï¼‰`);
          // å¯åœ¨æ­¤è·³è½¬æˆ–æ‰§è¡Œå…¶ä»–é€»è¾‘
        } else {
          alert('âŒ è¯·æ­£ç¡®å¡«å†™6ä½æ•°å­—è´¦å·å’Œå¯†ç ');
        }
      }

      // æ¸…ç©ºè¡¨å• (å–æ¶ˆæŒ‰é’®åŠŸèƒ½)
      function clearForm() {
        accountInput.value = '';
        passwordInput.value = '';

        // å¼ºåˆ¶éšè—æ‰€æœ‰é”™è¯¯ (æ¸…ç©ºåä¸åº”æ˜¾ç¤ºçº¢è‰²æç¤ºï¼Œä½†updateä¼šæ˜¾ç¤º'ä¸èƒ½ä¸ºç©º'ï¼Œæˆ‘ä»¬æ›´å¸Œæœ›é‡ç½®åå¹²å‡€)
        accountErrorSpan.classList.remove('show');
        passwordErrorSpan.classList.remove('show');
        accountInput.classList.remove('error-shake');
        passwordInput.classList.remove('error-shake');
      }

      // å¡«å……éšæœºè´¦å· (å¹¶è‡ªåŠ¨è§¦å‘æ ¡éªŒæ›´æ–°)
      function fillRandomAccount() {
        const randomAcc = generateRandomSixDigit();
        accountInput.value = randomAcc;
        // æ‰‹åŠ¨è§¦å‘é”™è¯¯æ›´æ–° (å› ä¸ºæ˜¯åˆæ³•éšæœºæ•°ï¼Œåº”éšè—é”™è¯¯)
        updateErrorOnly(accountInput, accountErrorSpan);
        // åŒæ—¶å¦‚æœå¯†ç ä¸ºç©ºï¼Œä¿ç•™å¯†ç é”™è¯¯æç¤ºä¸å˜ï¼›ä¹Ÿå¯è½»å¾®æé†’
      }

      // ---------- äº‹ä»¶ç»‘å®š ----------

      // éšæœºç”ŸæˆæŒ‰é’®
      randomBtn.addEventListener('click', function(e) {
        e.preventDefault();
        fillRandomAccount();
        // å¯é€‰ï¼šå°æç¤º
        // ä¸å¼ºåˆ¶è¦†ç›–å¯†ç 
      });

      // è´¦å·è¾“å…¥å®æ—¶è¿‡æ»¤+é”™è¯¯æ›´æ–°
      accountInput.addEventListener('input', function(e) {
        this.value = this.value.replace(/\D/g, '').slice(0, 6);
        updateErrorOnly(accountInput, accountErrorSpan);
      });

      // å¯†ç è¾“å…¥å®æ—¶è¿‡æ»¤
      passwordInput.addEventListener('input', function(e) {
        this.value = this.value.replace(/\D/g, '').slice(0, 6);
        updateErrorOnly(passwordInput, passwordErrorSpan);
      });

      // å¤±å»ç„¦ç‚¹æ¸©å’Œæ›´æ–°
      accountInput.addEventListener('blur', function() {
        updateErrorOnly(accountInput, accountErrorSpan);
      });
      passwordInput.addEventListener('blur', function() {
        updateErrorOnly(passwordInput, passwordErrorSpan);
      });

      // æ³¨å†ŒæŒ‰é’®
      registerBtn.addEventListener('click', function(e) {
        e.preventDefault();
        validateAndRegister();
      });

      // å–æ¶ˆ/æ¸…ç©ºæŒ‰é’®
      cancelBtn.addEventListener('click', function(e) {
        e.preventDefault();
        clearForm();
      });

      // è¿”å›ç™»å½• (æ¨¡æ‹Ÿé“¾æ¥)
      backToLoginLink.addEventListener('click', function(e) {
        e.preventDefault();
        alert('â†©ï¸ è¿”å›ç™»å½•é¡µé¢ (æ­¤å¤„å¯æ›¿æ¢ä¸ºå®é™…é“¾æ¥)');
      });

      // å›è½¦å¿«æ·æ³¨å†Œ (åœ¨å¯†ç æ¡†æŒ‰å›è½¦è§¦å‘æ³¨å†Œ)
      passwordInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') registerBtn.click();
      });
      accountInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') registerBtn.click();
      });

      // åˆå§‹åŒ–ï¼šæ¸…ç©ºå¹¶éšè—æ‰€æœ‰é”™è¯¯ (æ›´å¹²å‡€çš„å¯åŠ¨)
      clearForm();
      // å¯é¢„ç½®ä¸€ä¸ªéšæœºç¤ºä¾‹ (å¯é€‰ï¼Œä¸ºäº†æ¼”ç¤ºå¯é»˜è®¤ç”Ÿæˆä¸€ä¸ª)
      // ä½†ä¸ºäº†ç©ºç™½å¼€å§‹ï¼Œä¸è‡ªåŠ¨å¡«å……ã€‚è‹¥éœ€è¦é»˜è®¤å¡«å……å¯å–æ¶ˆä¸‹ä¸€è¡Œæ³¨é‡Šï¼š
      // fillRandomAccount();
    })();
  </script>
</body>
</html>